{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-11-13T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_rhos",
      "_type": "workspace",
      "name": "RHOS API",
      "description": "Testes completos da API RHOS",
      "scope": "collection"
    },
    {
      "_id": "env_rhos",
      "_type": "environment",
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:4040",
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlciI6ImFkbWluIiwicm9sZSI6WyJBZG1pbmlzdHJhZG9yIl0sInBlcm0iOlsibG9nczpyZWFkIiwibG9nczp2aWV3Iiwicm9sZXM6Y3JlYXRlIiwicm9sZXM6ZGVsZXRlIiwicm9sZXM6cmVhZCIsInJvbGVzOnVwZGF0ZSIsInJvbGVzOnZpZXciLCJ1c2VyczpjcmVhdGUiLCJ1c2VyczpkZWxldGUiLCJ1c2VyczpyZWFkIiwidXNlcnM6dXBkYXRlIiwidXNlcnM6dmlldyJdLCJpYXQiOjE3NjMwNzkzNjksImV4cCI6MTc2MzEwODE2OX0.p_aKFKvLJq1Ru3DXnm4zX7EEn9FMJyL8CjbWQeoYHhk"
      },
      "parentId": "wrk_rhos"
    },
    {
      "_id": "folder_public",
      "_type": "request_group",
      "name": "1. Rotas Públicas",
      "parentId": "wrk_rhos"
    },
    {
      "_id": "req_health",
      "_type": "request",
      "name": "1.1 Health Check",
      "method": "GET",
      "url": "{{ base_url }}/api/health",
      "parentId": "folder_public"
    },
    {
      "_id": "req_login",
      "_type": "request",
      "name": "1.2 Login - Admin",
      "method": "POST",
      "url": "{{ base_url }}/api/login",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"usuario\": \"admin\",\n  \"senha\": \"admin123\"\n}"
      },
      "parentId": "folder_public"
    },
    {
      "_id": "req_login_fail_user",
      "_type": "request",
      "name": "1.3 Login - Usuário Inexistente",
      "method": "POST",
      "url": "{{ base_url }}/api/login",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"usuario\": \"usuario_inexistente\",\n  \"senha\": \"qualquer\"\n}"
      },
      "parentId": "folder_public"
    },
    {
      "_id": "req_login_fail_pass",
      "_type": "request",
      "name": "1.4 Login - Senha Incorreta",
      "method": "POST",
      "url": "{{ base_url }}/api/login",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"usuario\": \"admin\",\n  \"senha\": \"senha_errada\"\n}"
      },
      "parentId": "folder_public"
    },
    {
      "_id": "folder_users",
      "_type": "request_group",
      "name": "2. Gerenciamento de Usuários",
      "parentId": "wrk_rhos"
    },
    {
      "_id": "req_create_user",
      "_type": "request",
      "name": "2.1 Criar Novo Usuário",
      "method": "POST",
      "url": "{{ base_url }}/api/user",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"full_name\": \"João Silva\",\n  \"email\": \"joao@email.com\",\n  \"user\": \"joao\",\n  \"password\": \"senha123\",\n  \"cpf\": \"11144477735\",\n  \"birth_date\": \"1995-05-15\",\n  \"status\": 1,\n  \"role\": \"Administrador\"\n}"
      },
      "parentId": "folder_users"
    },
    {
      "_id": "req_create_user_invalid",
      "_type": "request",
      "name": "2.2 Criar Usuário - CPF Inválido",
      "method": "POST",
      "url": "{{ base_url }}/api/user",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"full_name\": \"Maria Santos\",\n  \"email\": \"maria@email.com\",\n  \"user\": \"maria\",\n  \"password\": \"senha123\",\n  \"cpf\": \"123\",\n  \"birth_date\": \"1990-03-20\",\n  \"status\": 1,\n  \"role\": \"Administrador\"\n}"
      },
      "parentId": "folder_users"
    },
    {
      "_id": "req_get_user_login",
      "_type": "request",
      "name": "2.3 Consultar Usuário por Login",
      "method": "GET",
      "url": "{{ base_url }}/api/user?login=admin",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_users"
    },
    {
      "_id": "req_get_user_id",
      "_type": "request",
      "name": "2.4 Consultar Usuário por ID",
      "method": "GET",
      "url": "{{ base_url }}/api/user?id=1",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_users"
    },
    {
      "_id": "req_get_user_email",
      "_type": "request",
      "name": "2.5 Consultar Usuário por Email",
      "method": "GET",
      "url": "{{ base_url }}/api/user?email=admin@teste.com",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_users"
    },
    {
      "_id": "req_get_user_no_params",
      "_type": "request",
      "name": "2.6 Consultar Usuário - Sem Parâmetros",
      "method": "GET",
      "url": "{{ base_url }}/api/user",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_users"
    },
    {
      "_id": "folder_roles",
      "_type": "request_group",
      "name": "3. Gerenciamento de Cargos",
      "parentId": "wrk_rhos"
    },
    {
      "_id": "req_create_role",
      "_type": "request",
      "name": "3.1 Criar Novo Cargo",
      "method": "POST",
      "url": "{{ base_url }}/api/role",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"role_name\": \"Analista\",\n  \"description\": \"Analista de RH\",\n  \"permissions\": [\"users:read\", \"logs:read\"]\n}"
      },
      "parentId": "folder_roles"
    },
    {
      "_id": "req_create_role_invalid",
      "_type": "request",
      "name": "3.2 Criar Cargo - Permissões Inválidas",
      "method": "POST",
      "url": "{{ base_url }}/api/role",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"role_name\": \"Teste\",\n  \"description\": \"Cargo de teste\",\n  \"permissions\": [\"permissao:invalida\", \"outra:invalida\"]\n}"
      },
      "parentId": "folder_roles"
    },
    {
      "_id": "req_get_role_name",
      "_type": "request",
      "name": "3.3 Consultar Cargo por Nome",
      "method": "GET",
      "url": "{{ base_url }}/api/role?role_name=Administrador",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_roles"
    },
    {
      "_id": "req_get_role_id",
      "_type": "request",
      "name": "3.4 Consultar Cargo por ID",
      "method": "GET",
      "url": "{{ base_url }}/api/role?id=1",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_roles"
    },
    {
      "_id": "req_get_allowed",
      "_type": "request",
      "name": "3.5 Listar Todas as Permissões",
      "method": "GET",
      "url": "{{ base_url }}/api/allowed",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_roles"
    },
    {
      "_id": "folder_logs",
      "_type": "request_group",
      "name": "4. Logs de Auditoria",
      "parentId": "wrk_rhos"
    },
    {
      "_id": "req_get_logs",
      "_type": "request",
      "name": "4.1 Listar Todos os Logs",
      "method": "GET",
      "url": "{{ base_url }}/api/logs",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_logs"
    },
    {
      "_id": "req_get_logs_limit10",
      "_type": "request",
      "name": "4.2 Listar Logs - Limite 10",
      "method": "GET",
      "url": "{{ base_url }}/api/logs?limit=10",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_logs"
    },
    {
      "_id": "req_get_logs_limit5",
      "_type": "request",
      "name": "4.3 Listar Logs - Limite 5",
      "method": "GET",
      "url": "{{ base_url }}/api/logs?limit=5",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "parentId": "folder_logs"
    },
    {
      "_id": "folder_security",
      "_type": "request_group",
      "name": "5. Testes de Segurança",
      "parentId": "wrk_rhos"
    },
    {
      "_id": "req_no_token",
      "_type": "request",
      "name": "5.1 Acesso sem Token (401)",
      "method": "GET",
      "url": "{{ base_url }}/api/user?login=admin",
      "parentId": "folder_security"
    },
    {
      "_id": "req_invalid_token",
      "_type": "request",
      "name": "5.2 Acesso com Token Inválido (401)",
      "method": "GET",
      "url": "{{ base_url }}/api/user?login=admin",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer token_invalido_123"
        }
      ],
      "parentId": "folder_security"
    },
    {
      "_id": "req_no_permission",
      "_type": "request",
      "name": "5.3 Acesso sem Permissão (403)",
      "method": "POST",
      "url": "{{ base_url }}/api/user",
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ token }}"
        }
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"full_name\": \"Teste Permissão\",\n  \"email\": \"teste@email.com\",\n  \"user\": \"teste\",\n  \"password\": \"senha123\",\n  \"cpf\": \"44455566677\",\n  \"birth_date\": \"2000-01-01\",\n  \"status\": true,\n  \"role\": \"Administrador\"\n}"
      },
      "parentId": "folder_security"
    }
  ]
}
